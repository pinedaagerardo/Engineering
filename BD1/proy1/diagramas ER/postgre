DROP TABLE AREAPROFESIONAL
;
DROP TABLE ATRIBUTOMATERIAL
;
DROP TABLE CARRERA
;
DROP TABLE CARRERA_AREAPROFESIONAL
;
DROP TABLE CARRERA_POSTGRADO
;
DROP TABLE CLASIFMATERIAL
;
DROP TABLE CURSO
;
DROP TABLE CURSO_MATERIAL
;
DROP TABLE CURSOAPROBADO
;
DROP TABLE ESCUELA
;
DROP TABLE INFOMATERIAL
;
DROP TABLE MATERIALAPOYO
;
DROP TABLE POSTGRADO
;
DROP TABLE REQUISITO
;
DROP TABLE USUARIO
;
-- 
-- TABLE: AREAPROFESIONAL 
--

CREATE TABLE AREAPROFESIONAL(
    IDAREA    NUMERIC(10)    NOT NULL,
    NOMBRE    VARCHAR(75)
)
;



-- 
-- TABLE: ATRIBUTOMATERIAL 
--

CREATE TABLE ATRIBUTOMATERIAL(
    IDATRIBUTO    NUMERIC(5)    NOT NULL,
    NOMBRE        VARCHAR(50)
)
;



-- 
-- TABLE: CARRERA 
--

CREATE TABLE CARRERA(
    CODCARRERA     NUMERIC(5)    NOT NULL,
    NOMBRE         VARCHAR(50),
    DESCRIPCION    VARCHAR(1000),
    PENSUM         VARCHAR(200),
    IDESCUELA      NUMERIC(2)    NOT NULL
)
;



-- 
-- TABLE: CARRERA_AREAPROFESIONAL 
--

CREATE TABLE CARRERA_AREAPROFESIONAL(
    IDAREA        NUMERIC(10)    NOT NULL,
    CODCARRERA    NUMERIC(5)     NOT NULL
)
;



-- 
-- TABLE: CARRERA_POSTGRADO 
--

CREATE TABLE CARRERA_POSTGRADO(
    IDPOSTGRADO    NUMERIC(10)    NOT NULL,
    CODCARRERA     NUMERIC(5)     NOT NULL
)
;



-- 
-- TABLE: CLASIFMATERIAL 
--

CREATE TABLE CLASIFMATERIAL(
    IDCLASIF    NUMERIC(3)    NOT NULL,
    NOMBRE      VARCHAR(50)
)
;



-- 
-- TABLE: CURSO 
--

CREATE TABLE CURSO(
    IDCURSO        NUMERIC(5)    NOT NULL,
    NOMBRE         VARCHAR(50),
    CREDITOS       NUMERIC(2),
    DESCRIPCION    VARCHAR(200)
)
;



-- 
-- TABLE: CURSO_MATERIAL 
--

CREATE TABLE CURSO_MATERIAL(
    IDCURSO       NUMERIC(5)     NOT NULL,
    IDMATERIAL    NUMERIC(10)    NOT NULL
)
;



-- 
-- TABLE: CURSOAPROBADO 
--

CREATE TABLE CURSOAPROBADO(
    IDCURSO    NUMERIC(5)     NOT NULL,
    CARNET     NUMERIC(15)    NOT NULL
)
;



-- 
-- TABLE: ESCUELA 
--

CREATE TABLE ESCUELA(
    IDESCUELA    NUMERIC(2)    NOT NULL,
    NOMBRE       VARCHAR(50),
    UBICACION    VARCHAR(100)
)
;



-- 
-- TABLE: INFOMATERIAL 
--

CREATE TABLE INFOMATERIAL(
    IDATRIBUTO    NUMERIC(5)     NOT NULL,
    IDMATERIAL    NUMERIC(10)    NOT NULL,
    VALOR         VARCHAR(200)      NOT NULL
)
;



-- 
-- TABLE: MATERIALAPOYO 
--

CREATE TABLE MATERIALAPOYO(
    IDMATERIAL    NUMERIC(10)    NOT NULL,
    IDCLASIF      NUMERIC(3)     NOT NULL
)
;



-- 
-- TABLE: POSTGRADO 
--

CREATE TABLE POSTGRADO(
    IDPOSTGRADO    NUMERIC(10)    NOT NULL,
    NOMBRE         VARCHAR(75)
)
;



-- 
-- TABLE: REQUISITO 
--

CREATE TABLE REQUISITO(
    PRE     NUMERIC(5)    NOT NULL,
    POST    NUMERIC(5)    NOT NULL
)
;



-- 
-- TABLE: USUARIO 
--

CREATE TABLE USUARIO(
    CARNET         NUMERIC(15)    NOT NULL,
    NOMBRE         VARCHAR(100),
    CONTRASENIA    VARCHAR(15),
    CORREO         VARCHAR(100)
)
;



-- 
-- TABLE: AREAPROFESIONAL 
--

ALTER TABLE AREAPROFESIONAL ADD 
    PRIMARY KEY (IDAREA)
;

-- 
-- TABLE: ATRIBUTOMATERIAL 
--

ALTER TABLE ATRIBUTOMATERIAL ADD 
    PRIMARY KEY (IDATRIBUTO)
;

-- 
-- TABLE: CARRERA 
--

ALTER TABLE CARRERA ADD 
    PRIMARY KEY (CODCARRERA)
;

-- 
-- TABLE: CARRERA_AREAPROFESIONAL 
--

ALTER TABLE CARRERA_AREAPROFESIONAL ADD 
    PRIMARY KEY (IDAREA, CODCARRERA)
;

-- 
-- TABLE: CARRERA_POSTGRADO 
--

ALTER TABLE CARRERA_POSTGRADO ADD 
    PRIMARY KEY (IDPOSTGRADO, CODCARRERA)
;

-- 
-- TABLE: CLASIFMATERIAL 
--

ALTER TABLE CLASIFMATERIAL ADD 
    PRIMARY KEY (IDCLASIF)
;

-- 
-- TABLE: CURSO 
--

ALTER TABLE CURSO ADD 
    PRIMARY KEY (IDCURSO)
;

-- 
-- TABLE: CURSO_MATERIAL 
--

ALTER TABLE CURSO_MATERIAL ADD 
    PRIMARY KEY (IDCURSO, IDMATERIAL)
;

-- 
-- TABLE: CURSOAPROBADO 
--

ALTER TABLE CURSOAPROBADO ADD 
    PRIMARY KEY (IDCURSO, CARNET)
;

-- 
-- TABLE: ESCUELA 
--

ALTER TABLE ESCUELA ADD 
    PRIMARY KEY (IDESCUELA)
;

-- 
-- TABLE: INFOMATERIAL 
--

ALTER TABLE INFOMATERIAL ADD 
    PRIMARY KEY (IDATRIBUTO, IDMATERIAL)
;

-- 
-- TABLE: MATERIALAPOYO 
--

ALTER TABLE MATERIALAPOYO ADD 
    PRIMARY KEY (IDMATERIAL)
;

-- 
-- TABLE: POSTGRADO 
--

ALTER TABLE POSTGRADO ADD 
    PRIMARY KEY (IDPOSTGRADO)
;

-- 
-- TABLE: REQUISITO 
--

ALTER TABLE REQUISITO ADD 
    PRIMARY KEY (PRE, POST)
;

-- 
-- TABLE: USUARIO 
--

ALTER TABLE USUARIO ADD 
    PRIMARY KEY (CARNET)
;

-- 
-- TABLE: CARRERA 
--

ALTER TABLE CARRERA ADD CONSTRAINT RefESCUELA301 
    FOREIGN KEY (IDESCUELA)
    REFERENCES ESCUELA(IDESCUELA)
;


-- 
-- TABLE: CARRERA_AREAPROFESIONAL 
--

ALTER TABLE CARRERA_AREAPROFESIONAL ADD CONSTRAINT RefCARRERA41 
    FOREIGN KEY (CODCARRERA)
    REFERENCES CARRERA(CODCARRERA)
;

ALTER TABLE CARRERA_AREAPROFESIONAL ADD CONSTRAINT RefAREAPROFESIONAL51 
    FOREIGN KEY (IDAREA)
    REFERENCES AREAPROFESIONAL(IDAREA)
;


-- 
-- TABLE: CARRERA_POSTGRADO 
--

ALTER TABLE CARRERA_POSTGRADO ADD CONSTRAINT RefPOSTGRADO21 
    FOREIGN KEY (IDPOSTGRADO)
    REFERENCES POSTGRADO(IDPOSTGRADO)
;

ALTER TABLE CARRERA_POSTGRADO ADD CONSTRAINT RefCARRERA31 
    FOREIGN KEY (CODCARRERA)
    REFERENCES CARRERA(CODCARRERA)
;


-- 
-- TABLE: CURSO_MATERIAL 
--

ALTER TABLE CURSO_MATERIAL ADD CONSTRAINT RefCURSO221 
    FOREIGN KEY (IDCURSO)
    REFERENCES CURSO(IDCURSO)
;

ALTER TABLE CURSO_MATERIAL ADD CONSTRAINT RefMATERIALAPOYO291 
    FOREIGN KEY (IDMATERIAL)
    REFERENCES MATERIALAPOYO(IDMATERIAL)
;


-- 
-- TABLE: CURSOAPROBADO 
--

ALTER TABLE CURSOAPROBADO ADD CONSTRAINT RefUSUARIO251 
    FOREIGN KEY (CARNET)
    REFERENCES USUARIO(CARNET)
;

ALTER TABLE CURSOAPROBADO ADD CONSTRAINT RefCURSO261 
    FOREIGN KEY (IDCURSO)
    REFERENCES CURSO(IDCURSO)
;


-- 
-- TABLE: INFOMATERIAL 
--

ALTER TABLE INFOMATERIAL ADD CONSTRAINT RefATRIBUTOMATERIAL201 
    FOREIGN KEY (IDATRIBUTO)
    REFERENCES ATRIBUTOMATERIAL(IDATRIBUTO)
;

ALTER TABLE INFOMATERIAL ADD CONSTRAINT RefMATERIALAPOYO281 
    FOREIGN KEY (IDMATERIAL)
    REFERENCES MATERIALAPOYO(IDMATERIAL)
;


-- 
-- TABLE: MATERIALAPOYO 
--

ALTER TABLE MATERIALAPOYO ADD CONSTRAINT RefCLASIFMATERIAL271 
    FOREIGN KEY (IDCLASIF)
    REFERENCES CLASIFMATERIAL(IDCLASIF)
;


-- 
-- TABLE: REQUISITO 
--

ALTER TABLE REQUISITO ADD CONSTRAINT RefCURSO81 
    FOREIGN KEY (POST)
    REFERENCES CURSO(IDCURSO)
;

ALTER TABLE REQUISITO ADD CONSTRAINT RefCURSO101 
    FOREIGN KEY (PRE)
    REFERENCES CURSO(IDCURSO)
;


