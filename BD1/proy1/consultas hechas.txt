-- ********CURSOS, PRE Y POST

SELECT C.*
	,REPLACE(R.PRE,769,0) AS PRE
	,REPLACE(R.POST,769,0) AS POST
FROM CURSO C
	,REQUISITO R
WHERE (
	C.IDCURSO=R.POST
	OR
	C.IDCURSO=R.PRE
)
AND C.IDCURSO=769
;

-- *******MATERIAL

SELECT I.VALOR
	,AM.NOMBRE
FROM CURSO_MATERIAL CM
	,INFOMATERIAL I
	,CLASIFMATERIAL CFM
	,MATERIALAPOYO MA
	,ATRIBUTOMATERIAL AM
WHERE I.IDMATERIAL=CM.IDMATERIAL
AND MA.IDCLASIF=CFM.IDCLASIF
AND MA.IDMATERIAL=CM.IDMATERIAL
AND AM.IDATRIBUTO=I.IDATRIBUTO
AND UPPER(CFM.NOMBRE)="LIBRO"
AND CM.IDCURSO=769
ORDER BY I.IDMATERIAL,I.IDATRIBUTO
;

-- ******* CURSOS APROBADOS

SELECT IDCURSO
FROM CURSOAPROBADO
WHERE CARNET="200611226";

-- ******* EL CURSO ESTA APROBADO?
SELECT COUNT(1) ESTADO FROM CURSOAPROBADO WHERE CARNET="200611226" AND IDCURSO=769;

-- ******* INSERTAR CURSO GANADO
INSERT INTO CURSOAPROBADO VALUES(73,"200611226");

-- ******** ELIMINAR CURSO APROBADO
DELETE FROM CURSOAPROBADO WHERE IDCURSO=73 AND CARNET="200611226";

-- ******* AGREGAR USUARIO
INSERT INTO USUARIO VALUES("200611224","NOMBRE","CONTRASENIA","CORREO");

-- ****** LOGUEAR
SELECT CONTRASENIA FROM USUARIO WHERE CARNET="200611226";

-- ************ GET CARRERA E INFO
SELECT
C.NOMBRE CARRERA
,C.DESCRIPCION
,C.PENSUM
,E.NOMBRE ESCUELA
,E.UBICACION
FROM
CARRERA C
,ESCUELA E
WHERE UPPER(C.NOMBRE) LIKE '%ELECTR%NICA'
AND E.IDESCUELA=C.IDESCUELA;

-- ******* POSTGRADOS Y AREAS
SELECT P.NOMBRE FROM POSTGRADO P;

SELECT A.NOMBRE FROM AREAPROFESIONAL A;

--********* GET NOMBRE USUARIO
SELECT U.NOMBRE FROM USUARIO U WHERE CARNET="200611226";

-- ******** CREDITOS
SELECT SUM(C.CREDITOS) CREDITOS
FROM CURSOAPROBADO CA,CURSO C
WHERE CA.CARNET="200611225"
AND C.IDCURSO=CA.IDCURSO;
